<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Salary Calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
</head>

<body>
    <div class="navbar navbar-default navbar-fixed-top">
        <div id="phone" class="container">
            <a class="hidden-xs" href="tel:+254701562812"><img
                    src="https://www.payroll.ke/image/site/call-payroll-support.png" width="21" height="35" /></a><a
                href="tel:+254701562812">+254 758510206</a>
        </div>
        <div class="container">
            <div class="navbar-header navbar-default">
                <a href="/"><img src="https://www.payroll.ke/image/site/payroll-logo.png" alt="payroll logo" width="168"
                        height="90"></a>
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <!-- <span class="sr-only">Toggle navigation</span> -->
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div class="container">
                <div class="container container-fluid">
                    <form class="col-12">
                        <div class="col-md-12">
                            <h1 class="mb-4">NET PAY CALCULATOR</h1>
                            <p>Enter the gross salary below amount to calculate your net amount</p>
                        </div>
                        <div class="col-12">
                            <label class="visually-hidden" for="inlineFormInputGroupUsername">Username</label>
                            <div class="input-group">
                                <div class="input-group-text">Ksh</div>
                                <input type="text" class="form-control" id="grossSalary" placeholder="Ksh">
                            </div>
                            <div class="col-12">
                                <button type="button" class="btn btn-primary mt-4"
                                    onclick="calculate()">Calculate</button>
                            </div>
                            <div class="col-md-6">
                                <table class="table table-bordered mt-4">
                                    <thead>
                                        <tr>
                                            <th>Description</th>
                                            <th>Results</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Gross Salary</td>
                                            <td><span id="displayGross"></span></td>
                                        </tr>
                                        <tr>
                                            <td>NHIF</td>
                                            <td><span id="displayNHIF"></span></td>
                                        </tr>
                                        <tr>
                                            <td>NSSF</td>
                                            <td><span id="displayNSSF"></span></td>
                                        </tr>
                                        <tr>
                                            <td>Taxable Income</td>
                                            <td><span id="displayTaxable"></span></td>
                                        </tr>
                                        <tr>
                                            <td>Final PAYE</td>
                                            <td><span id="displayPAYE"></span></td>
                                        </tr>
                                        
                                        <tr>
                                            <td>Net Pay</td>
                                            <td><span id="displayNetPay"></span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <script>
                function calculate() {
                    const grossSalary = parseFloat(document.getElementById('grossSalary').value);
                    const nhifRates = {
                        // NHIF rate tiers
                    };

                    const nssfRates = { tier1: 360, tier2: 720 };

                    // Calculate NHIF contribution
                    let nhif = 0;
                    for (const rate in nhifRates) {
                        if (grossSalary <= parseFloat(rate)) {
                            nhif = nhifRates[rate];
                            break;
                        }
                    }

                    // Calculate NSSF contribution
                    let nssf = grossSalary <= 18000 ? nssfRates.tier1 : nssfRates.tier2;

                    // Calculate taxable income
                    let taxableIncome = grossSalary - nhif - nssf;

                    const personalRelief = 2400;
                    const minTaxableIncome = 24001;
                    let paye = 0;

                    // Calculate PAYE
                    if (taxableIncome >= minTaxableIncome) {
                        if (taxableIncome <= 32000) {
                            paye = (taxableIncome - minTaxableIncome) * 0.1;
                        } else if (taxableIncome <= 40000) {
                            paye = ((32000 - minTaxableIncome) * 0.1) + ((taxableIncome - 32000) * 0.25);
                        } else {
                            paye = ((32000 - minTaxableIncome) * 0.1) + (8000 * 0.25) + ((taxableIncome - 40000) * 0.3);
                        }
                    }

                    // Calculate net pay
                    let netPay = grossSalary - paye - nhif - nssf;

                    // Display calculated values in the HTML elements
                    document.getElementById('displayGross').textContent = grossSalary.toFixed(2);
                    document.getElementById('displayTaxable').textContent = taxableIncome.toFixed(2);
                    document.getElementById('displayPAYE').textContent = paye.toFixed(2);
                    document.getElementById('displayNHIF').textContent = nhif.toFixed(2);
                    document.getElementById('displayNSSF').textContent = nssf.toFixed(2);
                    document.getElementById('displayNetPay').textContent = netPay.toFixed(2);
                }


            </script>


</body>

</html>